import{d as p}from"./pinia-D1tb24LR.js";import{a as n}from"./axios-Di5RpEPX.js";import{s as u}from"./sweetalert2-Bxbxx77j.js";import{d as l}from"./vue-loading-overlay-CtFUBeEI.js";var d={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/test/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const m=l.useLoading(),{VITE_API:S,VITE_PATH:f}=d,h=p("allProductsStore",{state:()=>({allProducts:[],allArtists:[],productSizeList:[],filter:[]}),actions:{getAllProducts(){const i=m.show(),e=`${S}/api/${f}/products/all`;return n.get(e).then(t=>{const s=t.data.products;this.allProducts=s.filter(r=>r.category==="products"),this.allArtists=s.filter(r=>r.category==="artists").sort((r,a)=>r.title.localeCompare(a.title))}).catch(t=>{u.fire({icon:"error",text:t.response.data.message})}).finally(()=>{i.hide()})},getSizeList(){const e=[...new Set(this.allProducts.map(t=>t.size))].sort((t,s)=>t[0]-s[0]);this.productSizeList=e}},getters:{sortNewest:({allProducts:i,allArtists:e})=>{const t=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(i)),r=t.sort((o,c)=>c.create_at-o.create_at),a=s.sort((o,c)=>c.create_at-o.create_at);return{newestArtist:r,newestProduct:a}},groupList:({allProducts:i,allArtists:e})=>{const s=[...new Set(i.map(o=>o.group))],a=[...new Set(e.map(o=>o.group))];return{productGroupList:s,artistGroupList:a}}}});export{h as u};
